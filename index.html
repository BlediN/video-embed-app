<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Video Channels</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #1a1a1a;
            color: #fff;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: #fff;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .btn {
            padding: 12px 24px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background-color: #45a049;
        }

        .btn-refresh {
            background-color: #2196F3;
        }

        .btn-refresh:hover {
            background-color: #0b7dda;
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
            background-color: #000;
            border: 3px solid transparent;
            border-radius: 8px;
            transition: border-color 0.3s;
        }

        .video-wrapper.active {
            border-color: #4CAF50;
        }

        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .video-label {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 14px;
            z-index: 10;
        }

        .status-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 12px;
            z-index: 10;
        }

        .status-indicator.unmuted {
            color: #4CAF50;
        }

        .status-indicator.muted {
            color: #ff9800;
        }

        @media (max-width: 768px) {
            .video-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Live Video Channels</h1>
        
        <div class="controls">
            <button class="btn" id="muteUnmuteBtn">Mute/Unmute Next</button>
            <button class="btn btn-refresh" id="refreshBtn">Refresh Videos</button>
        </div>

        <div class="video-grid">
            <div class="video-wrapper active" id="video-1">
                <div class="video-label">Channel 1</div>
                <div class="status-indicator unmuted">ðŸ”Š Unmuted</div>
                <iframe 
                    id="iframe-1"
                    src="https://www.youtube.com/embed/jfKfPfyJRdk?autoplay=1&mute=0&controls=1&enablejsapi=1"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
            </div>

            <div class="video-wrapper" id="video-2">
                <div class="video-label">Channel 2</div>
                <div class="status-indicator muted">ðŸ”‡ Muted</div>
                <iframe 
                    id="iframe-2"
                    src="https://www.youtube.com/embed/21X5lGlDOfg?autoplay=1&mute=1&controls=1&enablejsapi=1"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
            </div>

            <div class="video-wrapper" id="video-3">
                <div class="video-label">Channel 3</div>
                <div class="status-indicator muted">ðŸ”‡ Muted</div>
                <iframe 
                    id="iframe-3"
                    src="https://www.youtube.com/embed/5qap5aO4i9A?autoplay=1&mute=1&controls=1&enablejsapi=1"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
            </div>

            <div class="video-wrapper" id="video-4">
                <div class="video-label">Channel 4</div>
                <div class="status-indicator muted">ðŸ”‡ Muted</div>
                <iframe 
                    id="iframe-4"
                    src="https://www.youtube.com/embed/aqz-KE-bpKQ?autoplay=1&mute=1&controls=1&enablejsapi=1"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
            </div>
        </div>
    </div>

    <script>
        let currentUnmutedIndex = 0;
        const totalVideos = 4;

        // YouTube iframe API
        let players = [];
        
        // Load YouTube iframe API
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        // This function will be called when YouTube API is ready
        function onYouTubeIframeAPIReady() {
            // Initialize players
            for (let i = 1; i <= totalVideos; i++) {
                players.push(new YT.Player(`iframe-${i}`, {
                    events: {
                        'onReady': onPlayerReady
                    }
                }));
            }
        }

        function onPlayerReady(event) {
            // Set initial mute states
            updateMuteStates();
        }

        function updateMuteStates() {
            for (let i = 0; i < totalVideos; i++) {
                const videoWrapper = document.getElementById(`video-${i + 1}`);
                const statusIndicator = videoWrapper.querySelector('.status-indicator');
                
                if (i === currentUnmutedIndex) {
                    // Unmute this video
                    if (players[i] && players[i].unMute) {
                        players[i].unMute();
                    }
                    videoWrapper.classList.add('active');
                    statusIndicator.textContent = 'ðŸ”Š Unmuted';
                    statusIndicator.classList.remove('muted');
                    statusIndicator.classList.add('unmuted');
                } else {
                    // Mute other videos
                    if (players[i] && players[i].mute) {
                        players[i].mute();
                    }
                    videoWrapper.classList.remove('active');
                    statusIndicator.textContent = 'ðŸ”‡ Muted';
                    statusIndicator.classList.remove('unmuted');
                    statusIndicator.classList.add('muted');
                }
            }
        }

        // Mute/Unmute Next button handler
        document.getElementById('muteUnmuteBtn').addEventListener('click', function() {
            // Move to next video
            currentUnmutedIndex = (currentUnmutedIndex + 1) % totalVideos;
            updateMuteStates();
        });

        // Refresh button handler
        document.getElementById('refreshBtn').addEventListener('click', function() {
            for (let i = 1; i <= totalVideos; i++) {
                const iframe = document.getElementById(`iframe-${i}`);
                const currentSrc = iframe.src;
                
                // Remove and re-add the timestamp to force refresh
                const url = new URL(currentSrc);
                url.searchParams.set('t', Date.now());
                iframe.src = url.toString();
            }
            
            // Reset to first video being unmuted after refresh
            currentUnmutedIndex = 0;
            
            // Wait a bit for iframes to reload, then update states
            setTimeout(() => {
                // Reinitialize players after refresh
                players = [];
                for (let i = 1; i <= totalVideos; i++) {
                    players.push(new YT.Player(`iframe-${i}`, {
                        events: {
                            'onReady': onPlayerReady
                        }
                    }));
                }
            }, 1000);
        });

        // Initialize window.onYouTubeIframeAPIReady in case API loads before script
        if (typeof window.onYouTubeIframeAPIReady === 'undefined') {
            window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;
        }
    </script>
</body>
</html>
